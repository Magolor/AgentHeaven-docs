<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html"><link rel="next" title="ToolSpec" href="toolspec/index.html"><link rel="prev" title="VectorKLEngine" href="klengine/vector.html">
        <link rel="prefetch" href="../_static/logo-light.png" as="image">
        <link rel="prefetch" href="../_static/logo-dark.png" as="image">

    <link rel="shortcut icon" href="../_static/favicon.ico"><!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>KLBase - AgentHeaven Doc</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=43646d4c" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>

<div class="announcement">
  <aside class="announcement-content">
     ðŸš§ AgentHeaven is in active development. Features may change. 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">AgentHeaven Doc</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/logo-light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/logo-dark.png" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../introduction/index.html">Introduction</a><input aria-label="Toggle navigation of Introduction" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/philosophy.html">Philosophy &amp; Vision</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/architecture.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/learning.html">Learning AgentHeaven</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../getting-started/index.html">Getting Started</a><input aria-label="Toggle navigation of Getting Started" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/installation.html">Installation Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/setup.html">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/5min-quickstart.html">5min Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/60min-tutorial.html">60min Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../configuration/index.html">Configuration</a><input aria-label="Toggle navigation of Configuration" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration/core.html">Core Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/llm.html">LLM Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/database.html">Database Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/vdb.html">Vector Database Configuration</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Main Guide (Python)</a><input aria-label="Toggle navigation of Main Guide (Python)" checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="utils/index.html">Utilities</a><input aria-label="Toggle navigation of Utilities" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="utils/basic/index.html">Basic Utilities</a><input aria-label="Toggle navigation of Basic Utilities" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="utils/basic/config_utils.html">Configuration Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="utils/basic/hash_utils.html">Hashing Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="utils/basic/parallel_utils.html">Multi-Thread Parallelization</a></li>
<li class="toctree-l4"><a class="reference internal" href="utils/basic/jinja_utils.html">Template Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="utils/basic/serialize_utils.html">Serialization Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="utils/basic/str_utils.html">String Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="utils/basic/misc_utils.html">Miscellaneous Utilities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="utils/db.html">Database Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils/vdb.html">Vector Database Utilities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cache.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="llm.html">LLM</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="ukf/index.html">UKF (Unified Knowledge Format)</a><input aria-label="Toggle navigation of UKF (Unified Knowledge Format)" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="ukf/ukf-v1.0.html">UKF v1.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="ukf/data-types.html">UKF Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="ukf/builtin-templates.html">Built-in Templates</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="klstore/index.html">KLStore</a><input aria-label="Toggle navigation of KLStore" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="klstore/base.html">BaseKLStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="klstore/cache.html">CacheKLStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="klstore/database.html">DatabaseKLStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="klstore/vector.html">VectorKLStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="klstore/cascade.html">CascadeKLStore</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="klengine/index.html">KLEngine</a><input aria-label="Toggle navigation of KLEngine" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="klengine/base.html">BaseKLEngine</a></li>
<li class="toctree-l3"><a class="reference internal" href="klengine/facet.html">FacetKLEngine</a></li>
<li class="toctree-l3"><a class="reference internal" href="klengine/daac.html">DAACKLEngine</a></li>
<li class="toctree-l3"><a class="reference internal" href="klengine/vector.html">VectorKLEngine</a></li>
</ul>
</li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">KLBase</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="toolspec/index.html">ToolSpec</a><input aria-label="Toggle navigation of ToolSpec" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="toolspec/base.html">ToolSpec</a></li>
<li class="toctree-l3"><a class="reference internal" href="toolspec/builtins.html">Built-in ToolSpecs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="agent.html">Agent</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cli-guide/index.html">CLI Guide</a><input aria-label="Toggle navigation of CLI Guide" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli-guide/repo-management.html">Repo Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli-guide/llm-inference.html">LLM Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli-guide/llm-session.html">LLM Session</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli-guide/prompt-management.html">Prompt Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli-guide/knowledge-management.html">Knowledge Management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gui-guide/index.html">GUI Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../example-applications/index.html">Example Applications</a><input aria-label="Toggle navigation of Example Applications" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../example-applications/nl2sql-system.html">NL2SQL System</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap.html">Roadmap</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../contribution/index.html">Contribution</a><input aria-label="Toggle navigation of Contribution" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../contribution/overview.html">Contribution Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribution/for_developers.html">Guide for Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribution/feature_workflow.html">Feature Addition Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribution/srs.html">Simple SRS</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../contribution/ar/index.html">Allocated Requirements (AR)</a><input aria-label="Toggle navigation of Allocated Requirements (AR)" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/base_ukf.html">BaseUKF - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/cache.html">Cache - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/llm.html">LLM - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/prompts.html">Prompts - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/database.html">Database - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/klstore.html">KLStore - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/klengine.html">KLEngine - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/klbase.html">KLBase - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/agent.html">Agent - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/sie.html">Structured Information Extraction (SIE) - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribution/ar/cli.html">Command Line Interface (CLI) - Allocated Requirements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api_index.html">API Reference</a><input aria-label="Toggle navigation of API Reference" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/ahvn.html">ahvn package</a><input aria-label="Toggle navigation of ahvn package" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.adapter.html">ahvn.adapter package</a><input aria-label="Toggle navigation of ahvn.adapter package" class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.adapter.base.html">ahvn.adapter.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.adapter.db.html">ahvn.adapter.db module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.adapter.vdb.html">ahvn.adapter.vdb module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.cache.html">ahvn.cache package</a><input aria-label="Toggle navigation of ahvn.cache package" class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cache.base.html">ahvn.cache.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cache.callback_cache.html">ahvn.cache.callback_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cache.db_cache.html">ahvn.cache.db_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cache.disk_cache.html">ahvn.cache.disk_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cache.in_mem_cache.html">ahvn.cache.in_mem_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cache.json_cache.html">ahvn.cache.json_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cache.no_cache.html">ahvn.cache.no_cache module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.cli.html">ahvn.cli package</a><input aria-label="Toggle navigation of ahvn.cli package" class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cli.ahvn.html">ahvn.cli.ahvn module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cli.babel_cli.html">ahvn.cli.babel_cli module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cli.chat_cli.html">ahvn.cli.chat_cli module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cli.config_cli.html">ahvn.cli.config_cli module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cli.repo_cli.html">ahvn.cli.repo_cli module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.cli.utils.html">ahvn.cli.utils module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.imitator.html">ahvn.imitator package</a><input aria-label="Toggle navigation of ahvn.imitator package" class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.imitator.base.html">ahvn.imitator.base module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.klbase.html">ahvn.klbase package</a><input aria-label="Toggle navigation of ahvn.klbase package" class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.klbase.base.html">ahvn.klbase.base module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.klengine.html">ahvn.klengine package</a><input aria-label="Toggle navigation of ahvn.klengine package" class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.klengine.base.html">ahvn.klengine.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.klengine.daac_engine.html">ahvn.klengine.daac_engine module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.klengine.facet_engine.html">ahvn.klengine.facet_engine module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.klengine.vector_engine.html">ahvn.klengine.vector_engine module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.klstore.html">ahvn.klstore package</a><input aria-label="Toggle navigation of ahvn.klstore package" class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.klstore.base.html">ahvn.klstore.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.klstore.cache_store.html">ahvn.klstore.cache_store module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.klstore.cascade_store.html">ahvn.klstore.cascade_store module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.klstore.db_store.html">ahvn.klstore.db_store module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.klstore.vdb_store.html">ahvn.klstore.vdb_store module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.llm.html">ahvn.llm package</a><input aria-label="Toggle navigation of ahvn.llm package" class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.llm.base.html">ahvn.llm.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.llm.llm_utils.html">ahvn.llm.llm_utils module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/ahvn.market.html">ahvn.market package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.tool.html">ahvn.tool package</a><input aria-label="Toggle navigation of ahvn.tool package" class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.tool.base.html">ahvn.tool.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.tool.mixin.html">ahvn.tool.mixin module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.ukf.html">ahvn.ukf package</a><input aria-label="Toggle navigation of ahvn.ukf package" class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../api/ahvn.ukf.templates.html">ahvn.ukf.templates package</a><input aria-label="Toggle navigation of ahvn.ukf.templates package" class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5 has-children"><a class="reference internal" href="../api/ahvn.ukf.templates.basic.html">ahvn.ukf.templates.basic package</a><input aria-label="Toggle navigation of ahvn.ukf.templates.basic package" class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.basic.document.html">ahvn.ukf.templates.basic.document module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.basic.experience.html">ahvn.ukf.templates.basic.experience module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.basic.knowledge.html">ahvn.ukf.templates.basic.knowledge module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.basic.prompt.html">ahvn.ukf.templates.basic.prompt module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.basic.resource.html">ahvn.ukf.templates.basic.resource module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.basic.template.html">ahvn.ukf.templates.basic.template module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.basic.tool.html">ahvn.ukf.templates.basic.tool module</a></li>
</ul>
</li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../api/ahvn.ukf.templates.db.html">ahvn.ukf.templates.db package</a><input aria-label="Toggle navigation of ahvn.ukf.templates.db package" class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.db.col_ukft.html">ahvn.ukf.templates.db.col_ukft module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.db.db_ukft.html">ahvn.ukf.templates.db.db_ukft module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.db.enum_ukft.html">ahvn.ukf.templates.db.enum_ukft module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.db.pred_ukft.html">ahvn.ukf.templates.db.pred_ukft module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.ukf.templates.db.tab_ukft.html">ahvn.ukf.templates.db.tab_ukft module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.ukf.base.html">ahvn.ukf.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.ukf.types.html">ahvn.ukf.types module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.ukf.ukf_utils.html">ahvn.ukf.ukf_utils module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api/ahvn.utils.html">ahvn.utils package</a><input aria-label="Toggle navigation of ahvn.utils package" class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../api/ahvn.utils.basic.html">ahvn.utils.basic package</a><input aria-label="Toggle navigation of ahvn.utils.basic package" class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.cmd_utils.html">ahvn.utils.basic.cmd_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.color_utils.html">ahvn.utils.basic.color_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.config_utils.html">ahvn.utils.basic.config_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.debug_utils.html">ahvn.utils.basic.debug_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.file_utils.html">ahvn.utils.basic.file_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.func_utils.html">ahvn.utils.basic.func_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.hash_utils.html">ahvn.utils.basic.hash_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.jinja_utils.html">ahvn.utils.basic.jinja_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.log_utils.html">ahvn.utils.basic.log_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.misc_utils.html">ahvn.utils.basic.misc_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.parallel_utils.html">ahvn.utils.basic.parallel_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.parser_utils.html">ahvn.utils.basic.parser_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.path_utils.html">ahvn.utils.basic.path_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.request_utils.html">ahvn.utils.basic.request_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.rnd_utils.html">ahvn.utils.basic.rnd_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.serialize_utils.html">ahvn.utils.basic.serialize_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.str_utils.html">ahvn.utils.basic.str_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.basic.type_utils.html">ahvn.utils.basic.type_utils module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../api/ahvn.utils.db.html">ahvn.utils.db package</a><input aria-label="Toggle navigation of ahvn.utils.db package" class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5 has-children"><a class="reference internal" href="../api/ahvn.utils.db.db_desc.html">ahvn.utils.db.db_desc package</a><input aria-label="Toggle navigation of ahvn.utils.db.db_desc package" class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.utils.db.db_desc.db_desc_gen.html">ahvn.utils.db.db_desc.db_desc_gen module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.utils.db.db_desc.db_info_extract.html">ahvn.utils.db.db_desc.db_info_extract module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.utils.db.db_desc.db_ukf_store.html">ahvn.utils.db.db_desc.db_ukf_store module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.utils.db.db_desc.facet_demo.html">ahvn.utils.db.db_desc.facet_demo module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.utils.db.db_desc.gen_synonyms.html">ahvn.utils.db.db_desc.gen_synonyms module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../api/ahvn.utils.db.db_desc.synonyms_utils.html">ahvn.utils.db.db_desc.synonyms_utils module</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.db.base.html">ahvn.utils.db.base module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.db.db_utils.html">ahvn.utils.db.db_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.db.facet.html">ahvn.utils.db.facet module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.db.types.html">ahvn.utils.db.types module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../api/ahvn.utils.extensions.html">ahvn.utils.extensions package</a><input aria-label="Toggle navigation of ahvn.utils.extensions package" class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.extensions.autocode.html">ahvn.utils.extensions.autocode module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.extensions.autofunc.html">ahvn.utils.extensions.autofunc module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.extensions.autoi18n.html">ahvn.utils.extensions.autoi18n module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.extensions.autotask.html">ahvn.utils.extensions.autotask module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../api/ahvn.utils.vdb.html">ahvn.utils.vdb package</a><input aria-label="Toggle navigation of ahvn.utils.vdb package" class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.vdb.base.html">ahvn.utils.vdb.base module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.vdb.filter.html">ahvn.utils.vdb.filter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.vdb.types.html">ahvn.utils.vdb.types module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/ahvn.utils.vdb.vdb_utils.html">ahvn.utils.vdb.vdb_utils module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.utils.default_deps.html">ahvn.utils.default_deps module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/ahvn.utils.deps.html">ahvn.utils.deps module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/ahvn.version.html">ahvn.version module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../community/index.html">Community &amp; Support</a><input aria-label="Toggle navigation of Community &amp; Support" class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../community/resources.html">Community Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../community/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../citation.html">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/Magolor/AgentHeaven/blob/master/docs/en/source/python-guide/klbase.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/Magolor/AgentHeaven/edit/master/docs/en/source/python-guide/klbase.md" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="klbase">
<h1>KLBase<a class="headerlink" href="#klbase" title="Link to this heading">Â¶</a></h1>
<p><strong>KLBase</strong> is the central orchestration layer in AgentHeavenâ€™s knowledge management system. It provides a unified interface for managing knowledge items (UKF objects) across multiple storage backends (KLStore) and search engines (KLEngine). By combining different storage and engine implementations, KLBase enables flexible, efficient knowledge retrieval and manipulation tailored to specific application needs.</p>
<br/>
<section id="core-concepts">
<h2>1. Core Concepts<a class="headerlink" href="#core-concepts" title="Link to this heading">Â¶</a></h2>
<p><strong>KLBase</strong> coordinates three main components:</p>
<ul class="simple">
<li><p><strong>UKF (Universal Knowledge Framework)</strong>: The data model representing knowledge items (see <a class="reference internal" href="ukf/index.html"><span class="std std-doc">UKF Guide</span></a>)</p></li>
<li><p><strong>KLStore</strong>: Storage backends that persist UKF objects (e.g., database, cache, file system)</p></li>
<li><p><strong>KLEngine</strong>: Search and retrieval engines that index and query UKF objects (e.g., faceted search, autocomplete, vector search)</p></li>
</ul>
<p>KLBase acts as the <strong>orchestration layer</strong> that:</p>
<ol class="arabic simple">
<li><p>Routes CRUD operations to appropriate storage backends</p></li>
<li><p>Maintains consistency across multiple storages and engines</p></li>
<li><p>Provides unified search interfaces across different engine types</p></li>
<li><p>Exposes tool specifications for agent integration via <code class="docutils literal notranslate"><span class="pre">&#64;reg_toolspec</span></code> decorator</p></li>
</ol>
<br/>
</section>
<section id="basic-architecture">
<h2>2. Basic Architecture<a class="headerlink" href="#basic-architecture" title="Link to this heading">Â¶</a></h2>
<p><strong>KLBase</strong> maintains two primary collections that work together to provide comprehensive knowledge management capabilities:</p>
<p><strong>Storage Layer</strong> (<code class="docutils literal notranslate"><span class="pre">storages:</span> <span class="pre">Dict[str,</span> <span class="pre">BaseKLStore]</span></code>):</p>
<ul class="simple">
<li><p>A dictionary of named storage backends that persist UKF objects</p></li>
<li><p>Each storage provides CRUD operations (create, read, update, delete) for knowledge items</p></li>
<li><p>Available storage implementations:</p>
<ul>
<li><p><strong>CacheKLStore</strong>: In-memory or file-based cache for fast temporary storage</p></li>
<li><p><strong>DatabaseKLStore</strong>: Relational database backend (PostgreSQL, MySQL, SQLite) for persistent storage</p></li>
<li><p><strong>VectorDBKLStore</strong>: Specialized vector database storage for embedding-based operations</p></li>
<li><p><strong>CascadeKLStore</strong>: Hierarchical storage chain that queries multiple backends in sequence</p></li>
</ul>
</li>
</ul>
<p><strong>Engine Layer</strong> (<code class="docutils literal notranslate"><span class="pre">engines:</span> <span class="pre">Dict[str,</span> <span class="pre">BaseKLEngine]</span></code>):</p>
<ul class="simple">
<li><p>A dictionary of named search and retrieval engines that index and query UKF objects</p></li>
<li><p>Each engine provides specialized search capabilities optimized for different query patterns</p></li>
<li><p>Available engine implementations:</p>
<ul>
<li><p><strong>FacetKLEngine</strong>: Multi-dimensional faceted search supporting complex filtering and aggregation</p></li>
<li><p><strong>DAACKLEngine</strong>: Dynamic autocomplete engine for prefix-based and fuzzy matching</p></li>
<li><p><strong>VectorKLEngine</strong>: Semantic similarity search using vector embeddings</p></li>
</ul>
</li>
</ul>
<p><strong>Orchestration Model:</strong>
KLBase coordinates between these layers by routing data operations to the appropriate backends. When a UKF object is inserted or updated, KLBase propagates the changes to all specified storages and engines to maintain consistency. When searching, KLBase delegates queries to the appropriate engine and retrieves full objects from the associated storage backend.</p>
<br/>
</section>
<section id="class-definition">
<h2>3. Class Definition<a class="headerlink" href="#class-definition" title="Link to this heading">Â¶</a></h2>
<section id="constructor">
<h3>3.1. Constructor<a class="headerlink" href="#constructor" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">KLBase</span><span class="p">(</span><span class="n">ToolRegistry</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">storages</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">BaseKLStore</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BaseKLStore</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">engines</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">BaseKLEngine</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BaseKLEngine</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
</pre></div>
</div>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>storages</strong> (<code class="docutils literal notranslate"><span class="pre">Optional[Union[List[BaseKLStore],</span> <span class="pre">Dict[str,</span> <span class="pre">BaseKLStore]]]</span></code>):</p>
<ul>
<li><p>Storage backends for persisting UKF objects</p></li>
<li><p>Can be provided as a list (indexed by <code class="docutils literal notranslate"><span class="pre">storage.name</span></code>) or dict (custom keys)</p></li>
<li><p>Defaults to empty dict if None</p></li>
</ul>
</li>
<li><p><strong>engines</strong> (<code class="docutils literal notranslate"><span class="pre">Optional[Union[List[BaseKLEngine],</span> <span class="pre">Dict[str,</span> <span class="pre">BaseKLEngine]]]</span></code>):</p>
<ul>
<li><p>Search/retrieval engines for querying UKF objects</p></li>
<li><p>Can be provided as a list (indexed by <code class="docutils literal notranslate"><span class="pre">engine.name</span></code>) or dict (custom keys)</p></li>
<li><p>Defaults to empty dict if None</p></li>
</ul>
</li>
<li><p><strong>name</strong> (<code class="docutils literal notranslate"><span class="pre">Optional[str]</span></code>):</p>
<ul>
<li><p>Identifier for this KLBase instance</p></li>
<li><p>Defaults to â€œdefaultâ€ if None</p></li>
</ul>
</li>
</ul>
<br/>
</section>
<section id="storage-management">
<h3>3.2. Storage Management<a class="headerlink" href="#storage-management" title="Link to this heading">Â¶</a></h3>
<section id="adding-storage">
<h4>3.2.1. Adding Storage<a class="headerlink" href="#adding-storage" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">add_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">storage</span><span class="p">:</span> <span class="n">BaseKLStore</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Registers a new storage backend.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>storage</strong> (<code class="docutils literal notranslate"><span class="pre">BaseKLStore</span></code>): The storage instance to add</p></li>
<li><p><strong>name</strong> (<code class="docutils literal notranslate"><span class="pre">Optional[str]</span></code>): Registration key (defaults to <code class="docutils literal notranslate"><span class="pre">storage.name</span></code>)</p></li>
</ul>
</section>
<section id="removing-storage">
<h4>3.2.2. Removing Storage<a class="headerlink" href="#removing-storage" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">del_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</pre></div>
</div>
<p>Unregisters and removes a storage backend.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>name</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): The registration key of the storage to remove</p></li>
</ul>
<br/>
</section>
</section>
<section id="engine-management">
<h3>3.3. Engine Management<a class="headerlink" href="#engine-management" title="Link to this heading">Â¶</a></h3>
<section id="adding-engine">
<h4>3.3.1. Adding Engine<a class="headerlink" href="#adding-engine" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">add_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="p">:</span> <span class="n">BaseKLEngine</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Registers a new search/retrieval engine.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>engine</strong> (<code class="docutils literal notranslate"><span class="pre">BaseKLEngine</span></code>): The engine instance to add</p></li>
<li><p><strong>name</strong> (<code class="docutils literal notranslate"><span class="pre">Optional[str]</span></code>): Registration key (defaults to <code class="docutils literal notranslate"><span class="pre">engine.name</span></code>)</p></li>
</ul>
</section>
<section id="removing-engine">
<h4>3.3.2. Removing Engine<a class="headerlink" href="#removing-engine" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">del_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</pre></div>
</div>
<p>Unregisters and removes an engine.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>name</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): The registration key of the engine to remove</p></li>
</ul>
<br/>
</section>
</section>
</section>
<section id="data-operations">
<h2>4. Data Operations<a class="headerlink" href="#data-operations" title="Link to this heading">Â¶</a></h2>
<p>All data operations support selective storage/engine targeting via the <code class="docutils literal notranslate"><span class="pre">storages</span></code> and <code class="docutils literal notranslate"><span class="pre">engines</span></code> parameters. If not specified, operations apply to <strong>all</strong> registered storages/engines.</p>
<section id="insert-upsert-operations">
<h3>4.1. Insert/Upsert Operations<a class="headerlink" href="#insert-upsert-operations" title="Link to this heading">Â¶</a></h3>
<section id="single-upsert">
<h4>4.1.1. Single Upsert<a class="headerlink" href="#single-upsert" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">upsert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kl</span><span class="p">:</span> <span class="n">BaseUKF</span><span class="p">,</span> <span class="n">storages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">engines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Insert or update a single UKF object across specified storages and engines.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>kl</strong> (<code class="docutils literal notranslate"><span class="pre">BaseUKF</span></code>): The knowledge item to upsert</p></li>
<li><p><strong>storages</strong> (<code class="docutils literal notranslate"><span class="pre">List[str]</span></code>, optional): Target storage names (defaults to all)</p></li>
<li><p><strong>engines</strong> (<code class="docutils literal notranslate"><span class="pre">List[str]</span></code>, optional): Target engine names (defaults to all)</p></li>
</ul>
</section>
<section id="single-insert">
<h4>4.1.2. Single Insert<a class="headerlink" href="#single-insert" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kl</span><span class="p">:</span> <span class="n">BaseUKF</span><span class="p">,</span> <span class="n">storages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">engines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Insert a new UKF object (may raise error if already exists, depending on backend).</p>
<p><strong>Parameters:</strong> Same as <code class="docutils literal notranslate"><span class="pre">upsert</span></code></p>
</section>
<section id="batch-upsert">
<h4>4.1.3. Batch Upsert<a class="headerlink" href="#batch-upsert" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">batch_upsert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kls</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseUKF</span><span class="p">],</span> <span class="n">storages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">engines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Bulk upsert multiple UKF objects (more efficient than individual upserts).</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>kls</strong> (<code class="docutils literal notranslate"><span class="pre">List[BaseUKF]</span></code>): List of knowledge items to upsert</p></li>
<li><p><strong>storages/engines</strong>: Same as single upsert</p></li>
</ul>
</section>
<section id="batch-insert">
<h4>4.1.4. Batch Insert<a class="headerlink" href="#batch-insert" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">batch_insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kls</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseUKF</span><span class="p">],</span> <span class="n">storages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">engines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Bulk insert multiple UKF objects.</p>
<p><strong>Parameters:</strong> Same as <code class="docutils literal notranslate"><span class="pre">batch_upsert</span></code></p>
<br/>
</section>
<section id="selective-synchronization">
<h4>4.1.5. Selective Synchronization<a class="headerlink" href="#selective-synchronization" title="Link to this heading">Â¶</a></h4>
<p>Control which storages/engines receive updates:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Only update database storage</span>
<span class="n">klbase</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span><span class="n">kl</span><span class="p">,</span> <span class="n">storages</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;db_store&quot;</span><span class="p">],</span> <span class="n">engines</span><span class="o">=</span><span class="p">[])</span>

<span class="c1"># Only update search engines</span>
<span class="n">klbase</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span><span class="n">kl</span><span class="p">,</span> <span class="n">storages</span><span class="o">=</span><span class="p">[],</span> <span class="n">engines</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;facet_engine&quot;</span><span class="p">,</span> <span class="s2">&quot;vec_engine&quot;</span><span class="p">])</span>

<span class="c1"># Update everything (default)</span>
<span class="n">klbase</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span><span class="n">kl</span><span class="p">)</span>
</pre></div>
</div>
<br/>
</section>
</section>
<section id="remove-operations">
<h3>4.2. Remove Operations<a class="headerlink" href="#remove-operations" title="Link to this heading">Â¶</a></h3>
<section id="single-remove">
<h4>4.2.1. Single Remove<a class="headerlink" href="#single-remove" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">BaseUKF</span><span class="p">],</span> <span class="n">storages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">engines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Remove a single UKF object by key.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>key</strong> (<code class="docutils literal notranslate"><span class="pre">Union[int,</span> <span class="pre">str,</span> <span class="pre">BaseUKF]</span></code>): ID, name, or UKF instance to remove</p></li>
<li><p><strong>storages/engines</strong>: Target backends (defaults to all)</p></li>
</ul>
</section>
<section id="batch-remove">
<h4>4.2.2. Batch Remove<a class="headerlink" href="#batch-remove" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">batch_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">BaseUKF</span><span class="p">]],</span> <span class="n">storages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">engines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Bulk remove multiple UKF objects.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>keys</strong> (<code class="docutils literal notranslate"><span class="pre">List[Union[int,</span> <span class="pre">str,</span> <span class="pre">BaseUKF]]</span></code>): List of identifiers to remove</p></li>
<li><p><strong>storages/engines</strong>: Target backends (defaults to all)</p></li>
</ul>
</section>
<section id="clear-all">
<h4>4.2.3. Clear All<a class="headerlink" href="#clear-all" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">storages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">engines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Remove all UKF objects from specified storages and engines.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>storages/engines</strong>: Target backends to clear (defaults to all)</p></li>
</ul>
<br/>
</section>
</section>
<section id="search-operations">
<h3>4.3. Search Operations<a class="headerlink" href="#search-operations" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</pre></div>
</div>
<p>Execute a search query using a specified engine.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><strong>engine</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): Name of the engine to use</p></li>
<li><p>***args, <strong>kwargs</strong>: Engine-specific search parameters</p></li>
</ul>
<p><strong>Returns:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Iterable[Dict[str,</span> <span class="pre">Any]]</span></code>: List of search results as dictionaries</p></li>
</ul>
<p><strong>Standard Result Keys</strong> (engine-dependent):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;id&quot;</span></code> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): UKF object identifier</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;kl&quot;</span></code> (<code class="docutils literal notranslate"><span class="pre">BaseUKF</span></code>): The actual UKF instance (if engine is recoverable)</p></li>
<li><p>Additional keys vary by engine type (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;score&quot;</span></code> for vector search, <code class="docutils literal notranslate"><span class="pre">&quot;rank&quot;</span></code> for autocomplete)</p></li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Faceted search</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">klbase</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s1">&#39;facet_engine&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;facet&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">Facet</span><span class="o">.</span><span class="n">NF</span><span class="p">(</span><span class="n">slot</span><span class="o">=</span><span class="s2">&quot;TOPIC&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;math&quot;</span><span class="p">))</span>

<span class="c1"># Vector search</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">klbase</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s1">&#39;vec_engine&#39;</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;fibonacci sequence&quot;</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Autocomplete</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">klbase</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s1">&#39;ac_engine&#39;</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;Fibo&quot;</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<br/>
</section>
<section id="listing-search-methods">
<h3>4.4. Listing Search Methods<a class="headerlink" href="#listing-search-methods" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">list_search</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]:</span>
</pre></div>
</div>
<p>Enumerate all available search methods across registered engines.</p>
<p><strong>Returns:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">List[Tuple[str,</span> <span class="pre">Optional[str]]]</span></code>: List of (engine_name, search_mode) pairs</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">engine_name</span></code>: Name of the engine</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">search_mode</span></code>: Engineâ€™s search mode (optional, None if engine has only one mode)</p></li>
</ul>
</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">search_methods</span> <span class="o">=</span> <span class="n">klbase</span><span class="o">.</span><span class="n">list_search</span><span class="p">()</span>
<span class="c1"># [(&#39;facet_engine&#39;, &#39;facet&#39;), (&#39;ac_engine1&#39;, None), (&#39;vec_engine&#39;, &#39;vector&#39;)]</span>
</pre></div>
</div>
<br/>
</section>
</section>
<section id="creating-custom-klbase-applications">
<h2>5. Creating Custom KLBase Applications<a class="headerlink" href="#creating-custom-klbase-applications" title="Link to this heading">Â¶</a></h2>
<p>The typical workflow for creating a KLBase-powered application:</p>
<section id="inherit-klbase">
<h3>5.1. Inherit KLBase<a class="headerlink" href="#inherit-klbase" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.klbase</span><span class="w"> </span><span class="kn">import</span> <span class="n">KLBase</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.klstore</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseKLStore</span><span class="p">,</span> <span class="n">CacheKLStore</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.klengine</span><span class="w"> </span><span class="kn">import</span> <span class="n">FacetKLEngine</span><span class="p">,</span> <span class="n">DAACKLEngine</span><span class="p">,</span> <span class="n">VectorKLEngine</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.tool.mixin</span><span class="w"> </span><span class="kn">import</span> <span class="n">reg_toolspec</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyKLBase</span><span class="p">(</span><span class="n">KLBase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span> <span class="ow">or</span> <span class="sa">f</span><span class="s2">&quot;./.ahvn/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/&quot;</span>
        
        <span class="c1"># Configure storages and engines (see below)</span>
</pre></div>
</div>
<br/>
</section>
<section id="configure-storages-and-engines">
<h3>5.2. Configure Storages and Engines<a class="headerlink" href="#configure-storages-and-engines" title="Link to this heading">Â¶</a></h3>
<p>In the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method, set up your storage and engine combinations:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example: Multiple storage backends</span>
<span class="bp">self</span><span class="o">.</span><span class="n">add_storage</span><span class="p">(</span>
    <span class="n">CacheKLStore</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;cache_store&quot;</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="n">JsonCache</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">/cache&quot;</span><span class="p">))</span>
<span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">add_storage</span><span class="p">(</span>
    <span class="n">DatabaseKLStore</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;db_store&quot;</span><span class="p">,</span> <span class="n">provider</span><span class="o">=</span><span class="s2">&quot;pg&quot;</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="s2">&quot;my_db&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Example: Faceted search engine</span>
<span class="bp">self</span><span class="o">.</span><span class="n">add_engine</span><span class="p">(</span>
    <span class="n">FacetKLEngine</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;facet_engine&quot;</span><span class="p">,</span>
        <span class="n">storage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storages</span><span class="p">[</span><span class="s2">&quot;db_store&quot;</span><span class="p">],</span>
        <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># Use storage&#39;s native query capabilities</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Example: Autocomplete engine for knowledge items</span>
<span class="bp">self</span><span class="o">.</span><span class="n">add_engine</span><span class="p">(</span>
    <span class="n">DAACKLEngine</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ac_by_name&quot;</span><span class="p">,</span>
        <span class="n">storage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storages</span><span class="p">[</span><span class="s2">&quot;db_store&quot;</span><span class="p">],</span>
        <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">/ac_index&quot;</span><span class="p">,</span>
        <span class="n">encoder</span><span class="o">=</span><span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="p">[</span><span class="n">kl</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">kl</span><span class="o">.</span><span class="n">content</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">],</span>
        <span class="n">condition</span><span class="o">=</span><span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="n">kl</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;knowledge&quot;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Example: Vector search engine for experience items</span>
<span class="bp">self</span><span class="o">.</span><span class="n">add_engine</span><span class="p">(</span>
    <span class="n">VectorKLEngine</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;vec_engine&quot;</span><span class="p">,</span>
        <span class="n">provider</span><span class="o">=</span><span class="s2">&quot;pgvector&quot;</span><span class="p">,</span>
        <span class="n">collection</span><span class="o">=</span><span class="s2">&quot;vec_collection&quot;</span><span class="p">,</span>
        <span class="n">storage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storages</span><span class="p">[</span><span class="s2">&quot;db_store&quot;</span><span class="p">],</span>
        <span class="n">encoder</span><span class="o">=</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">kl</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">kl</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="k">lambda</span> <span class="n">query</span><span class="p">:</span> <span class="n">query</span>
        <span class="p">),</span>
        <span class="n">embedder</span><span class="o">=</span><span class="s2">&quot;embedder&quot;</span><span class="p">,</span>  <span class="c1"># References configured embedder</span>
        <span class="n">condition</span><span class="o">=</span><span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="n">kl</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;experience&quot;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Key Considerations:</strong></p>
<ul class="simple">
<li><p><strong>Storage Selection</strong>: Choose based on persistence needs (cache for temporary, database for long-term)</p></li>
<li><p><strong>Engine-Storage Pairing</strong>: Engines typically reference a storage backend for data retrieval</p></li>
<li><p><strong>Inplace vs. External Indexing</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">inplace=True</span></code>: Use storageâ€™s native query (e.g., SQL WHERE clauses)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inplace=False</span></code>: Maintain separate index structures</p></li>
</ul>
</li>
<li><p><strong>Conditional Indexing</strong>: Use <code class="docutils literal notranslate"><span class="pre">condition</span></code> lambda to selectively index UKF objects (e.g., by type)</p></li>
</ul>
<br/>
</section>
<section id="define-tool-specifications">
<h3>5.3. Define Tool Specifications<a class="headerlink" href="#define-tool-specifications" title="Link to this heading">Â¶</a></h3>
<p>Use the <code class="docutils literal notranslate"><span class="pre">&#64;reg_toolspec()</span></code> decorator to expose methods as agent-callable tools:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.utils.db.facet</span><span class="w"> </span><span class="kn">import</span> <span class="n">Facet</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyKLBase</span><span class="p">(</span><span class="n">KLBase</span><span class="p">):</span>
    <span class="c1"># ... __init__ configuration ...</span>
    
    <span class="nd">@reg_toolspec</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">facet_search</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> 
        <span class="n">facets</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> 
        <span class="n">topk</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> 
        <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform a facet search on the KLBase.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            facets (Dict[str, Any]): A dictionary of facet criteria.</span>
<span class="sd">                Each facet is a key-value pair where the key is the facet name</span>
<span class="sd">                and the value is the desired value or condition.</span>
<span class="sd">                For complex conditions, use Facet.NF, Facet.LIKE, Facet.OR, etc.</span>
<span class="sd">                Example:</span>
<span class="sd">                    {</span>
<span class="sd">                        &quot;tags&quot;: Facet.NF(slot=&quot;TOPIC&quot;, value=Facet.LIKE(&quot;math%&quot;)),</span>
<span class="sd">                        &quot;priority&quot;: Facet.OR([42, 7]),</span>
<span class="sd">                        &quot;type&quot;: &quot;knowledge&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                Supported fields: id, name, type, content, tags, synonyms, priority</span>
<span class="sd">            topk (int, optional): Maximum number of results. Defaults to 20.</span>
<span class="sd">            offset (int, optional): Number of initial results to skip. Defaults to 0.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            Dict[str, Any]: Dictionary with keys:</span>
<span class="sd">                - &quot;cnt&quot; (int): Total count of matching items</span>
<span class="sd">                - &quot;kls&quot; (List[BaseUKF]): Top-k matching knowledge items</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engines</span><span class="p">[</span><span class="s1">&#39;facet_engine&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
            <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;facet&#39;</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="o">**</span><span class="n">facets</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;cnt&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span>
            <span class="s2">&quot;kls&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">engines</span><span class="p">[</span><span class="s1">&#39;facet_engine&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">id_</span><span class="p">)</span> 
                <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">offset</span><span class="o">+</span><span class="n">topk</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">}</span>
    
    <span class="nd">@reg_toolspec</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">vector_search</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> 
        <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> 
        <span class="n">topk</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform semantic vector search.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            query (str): Natural language search query</span>
<span class="sd">            topk (int, optional): Number of results to return. Defaults to 5.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            List[Dict[str, Any]]: Search results with keys:</span>
<span class="sd">                - &quot;id&quot; (int): UKF object ID</span>
<span class="sd">                - &quot;kl&quot; (BaseUKF): The knowledge item</span>
<span class="sd">                - &quot;score&quot; (float): Similarity score</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
            <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;vec_engine&#39;</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;kl&quot;</span><span class="p">,</span> <span class="s2">&quot;score&quot;</span><span class="p">],</span>
            <span class="n">topk</span><span class="o">=</span><span class="n">topk</span>
        <span class="p">)</span>
</pre></div>
</div>
<p><strong>Best Practices for Tool Definitions:</strong></p>
<ol class="arabic simple">
<li><p><strong>Comprehensive Docstrings</strong>: Include detailed descriptions, parameter types, and examples (automatically parsed by <code class="docutils literal notranslate"><span class="pre">&#64;reg_toolspec</span></code>)</p></li>
<li><p><strong>Sensible Defaults</strong>: Provide default values for optional parameters</p></li>
<li><p><strong>Structured Returns</strong>: Return dictionaries or structured objects for easy agent parsing</p></li>
<li><p><strong>Error Handling</strong>: Consider wrapping engine calls in try-except for graceful failure</p></li>
<li><p><strong>Parameter Validation</strong>: Validate inputs before passing to underlying engines</p></li>
</ol>
<br/>
</section>
<section id="export-tools-for-agent-use">
<h3>5.4. Export Tools for Agent Use<a class="headerlink" href="#export-tools-for-agent-use" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Instantiate your KLBase</span>
<span class="n">klbase</span> <span class="o">=</span> <span class="n">MyKLBase</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_app_kb&quot;</span><span class="p">)</span>

<span class="c1"># Export all @reg_toolspec tools as ToolSpec objects</span>
<span class="n">tools</span> <span class="o">=</span> <span class="n">klbase</span><span class="o">.</span><span class="n">to_toolspecs</span><span class="p">()</span>

<span class="c1"># List available tools</span>
<span class="n">tool_names</span> <span class="o">=</span> <span class="n">klbase</span><span class="o">.</span><span class="n">list_toolspecs</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tool_names</span><span class="p">)</span>  <span class="c1"># [&#39;facet_search&#39;, &#39;vector_search&#39;]</span>

<span class="c1"># Use tools directly</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">tools</span><span class="p">[</span><span class="s1">&#39;facet_search&#39;</span><span class="p">](</span><span class="n">facets</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;knowledge&quot;</span><span class="p">},</span> <span class="n">topk</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Or integrate with agent frameworks</span>
<span class="c1"># (e.g., pass tools to LLM function calling, MCP servers, etc.)</span>
</pre></div>
</div>
<br/>
</section>
</section>
<section id="complete-example">
<h2>6. Complete Example<a class="headerlink" href="#complete-example" title="Link to this heading">Â¶</a></h2>
<p>Below is a complete example demonstrating KLBase usage (from <code class="docutils literal notranslate"><span class="pre">db_demo.py</span></code>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.ukf</span><span class="w"> </span><span class="kn">import</span> <span class="n">Knowledge</span><span class="p">,</span> <span class="n">Experience</span><span class="p">,</span> <span class="n">ptags</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.cache</span><span class="w"> </span><span class="kn">import</span> <span class="n">InMemCache</span><span class="p">,</span> <span class="n">JsonCache</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.klstore</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseKLStore</span><span class="p">,</span> <span class="n">CacheKLStore</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.klengine</span><span class="w"> </span><span class="kn">import</span> <span class="n">FacetKLEngine</span><span class="p">,</span> <span class="n">DAACKLEngine</span><span class="p">,</span> <span class="n">VectorKLEngine</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.klbase</span><span class="w"> </span><span class="kn">import</span> <span class="n">KLBase</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.tool.mixin</span><span class="w"> </span><span class="kn">import</span> <span class="n">reg_toolspec</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.utils.db.facet</span><span class="w"> </span><span class="kn">import</span> <span class="n">Facet</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyKLBase</span><span class="p">(</span><span class="n">KLBase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span> <span class="ow">or</span> <span class="sa">f</span><span class="s2">&quot;./.ahvn/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/&quot;</span>
        
        <span class="c1"># Storage 1: JSON cache for fast local access</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_storage</span><span class="p">(</span>
            <span class="n">CacheKLStore</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;store1&quot;</span><span class="p">,</span>
                <span class="n">cache</span><span class="o">=</span><span class="n">JsonCache</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">/store1&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
        
        <span class="c1"># Storage 2: PostgreSQL database for persistent storage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_storage</span><span class="p">(</span>
            <span class="n">DatabaseKLStore</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;store2&quot;</span><span class="p">,</span>
                <span class="n">provider</span><span class="o">=</span><span class="s2">&quot;pg&quot;</span><span class="p">,</span>
                <span class="n">database</span><span class="o">=</span><span class="s2">&quot;store2&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>
        
        <span class="c1"># Engine 1: Faceted search on database</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_engine</span><span class="p">(</span>
            <span class="n">FacetKLEngine</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;facet_engine&quot;</span><span class="p">,</span>
                <span class="n">storage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storages</span><span class="p">[</span><span class="s2">&quot;store2&quot;</span><span class="p">],</span>
                <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        
        <span class="c1"># Engine 2: Autocomplete by name and content</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_engine</span><span class="p">(</span>
            <span class="n">DAACKLEngine</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ac_engine1&quot;</span><span class="p">,</span>
                <span class="n">storage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storages</span><span class="p">[</span><span class="s2">&quot;store2&quot;</span><span class="p">],</span>
                <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">/ac_index_by_name_content&quot;</span><span class="p">,</span>
                <span class="n">encoder</span><span class="o">=</span><span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="p">[</span><span class="n">kl</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">kl</span><span class="o">.</span><span class="n">content</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">],</span>
                <span class="n">condition</span><span class="o">=</span><span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="n">kl</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;knowledge&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        
        <span class="c1"># Engine 3: Autocomplete by synonyms</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_engine</span><span class="p">(</span>
            <span class="n">DAACKLEngine</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ac_engine2&quot;</span><span class="p">,</span>
                <span class="n">storage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storages</span><span class="p">[</span><span class="s2">&quot;store2&quot;</span><span class="p">],</span>
                <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">/ac_index_by_synonyms&quot;</span><span class="p">,</span>
                <span class="n">encoder</span><span class="o">=</span><span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="p">[</span><span class="n">syn</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">syn</span> <span class="ow">in</span> <span class="n">kl</span><span class="o">.</span><span class="n">synonyms</span><span class="p">],</span>
                <span class="n">condition</span><span class="o">=</span><span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="n">kl</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;knowledge&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        
        <span class="c1"># Engine 4: Vector search for experiences</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_engine</span><span class="p">(</span>
            <span class="n">VectorKLEngine</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;vec_engine&quot;</span><span class="p">,</span>
                <span class="n">provider</span><span class="o">=</span><span class="s2">&quot;pgvector&quot;</span><span class="p">,</span>
                <span class="n">collection</span><span class="o">=</span><span class="s2">&quot;vec_store2&quot;</span><span class="p">,</span>
                <span class="n">storage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storages</span><span class="p">[</span><span class="s2">&quot;store2&quot;</span><span class="p">],</span>
                <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
                <span class="n">encoder</span><span class="o">=</span><span class="p">(</span>
                    <span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">kl</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">kl</span><span class="o">.</span><span class="n">content</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="k">lambda</span> <span class="n">query</span><span class="p">:</span> <span class="n">query</span>
                <span class="p">),</span>
                <span class="n">embedder</span><span class="o">=</span><span class="s2">&quot;embedder&quot;</span><span class="p">,</span>
                <span class="n">condition</span><span class="o">=</span><span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="n">kl</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;experience&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
    
    <span class="nd">@reg_toolspec</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">facet_search</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">facets</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">topk</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform a facet search on the KLBase.&quot;&quot;&quot;</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engines</span><span class="p">[</span><span class="s1">&#39;facet_engine&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
            <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;facet&#39;</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="o">**</span><span class="n">facets</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;cnt&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span>
            <span class="s2">&quot;kls&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">engines</span><span class="p">[</span><span class="s1">&#39;facet_engine&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">id_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">offset</span><span class="o">+</span><span class="n">topk</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">}</span>

<span class="c1"># Usage example</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">klbase</span> <span class="o">=</span> <span class="n">MyKLBase</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_klbase&quot;</span><span class="p">)</span>
    <span class="n">klbase</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    
    <span class="c1"># 1. Create and insert knowledge items</span>
    <span class="n">kl1</span> <span class="o">=</span> <span class="n">Knowledge</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Fibonacci Sequence&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;knowledge&quot;</span><span class="p">,</span>
        <span class="n">content</span><span class="o">=</span><span class="s2">&quot;The Fibonacci sequence is a series of numbers...&quot;</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="n">ptags</span><span class="p">(</span><span class="n">TOPIC</span><span class="o">=</span><span class="s2">&quot;math&quot;</span><span class="p">,</span> <span class="n">ENTITY</span><span class="o">=</span><span class="s2">&quot;object&quot;</span><span class="p">),</span>
        <span class="n">synonyms</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Fibonacci numbers&quot;</span><span class="p">,</span> <span class="s2">&quot;Fibonacci series&quot;</span><span class="p">],</span>
    <span class="p">)</span>
    <span class="n">klbase</span><span class="o">.</span><span class="n">batch_upsert</span><span class="p">([</span><span class="n">kl1</span><span class="p">])</span>
    
    <span class="c1"># 2. Generate experiences from function cache</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="n">InMemCache</span><span class="p">()</span>
    
    <span class="nd">@cache</span><span class="o">.</span><span class="n">memoize</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">n</span>
        <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
    
    <span class="n">fibonacci</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    
    <span class="n">exps</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">Experience</span><span class="o">.</span><span class="n">from_cache_entry</span><span class="p">(</span>
            <span class="n">entry</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">ptags</span><span class="p">(</span>
                <span class="n">TOPIC</span><span class="o">=</span><span class="s2">&quot;math&quot;</span><span class="p">,</span>
                <span class="n">NUMBER</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">output</span><span class="p">)]</span>
            <span class="p">),</span>
            <span class="n">synonyms</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;fibonacci(</span><span class="si">{</span><span class="n">entry</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">entry</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">cache</span>
    <span class="p">]</span>
    <span class="n">klbase</span><span class="o">.</span><span class="n">batch_upsert</span><span class="p">(</span><span class="n">exps</span><span class="p">)</span>
    
    <span class="c1"># 3. Search using different engines</span>
    <span class="c1"># Faceted search</span>
    <span class="k">for</span> <span class="n">kl</span> <span class="ow">in</span> <span class="n">klbase</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
        <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;facet_engine&#39;</span><span class="p">,</span>
        <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;facet&#39;</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="n">Facet</span><span class="o">.</span><span class="n">NF</span><span class="p">(</span><span class="n">slot</span><span class="o">=</span><span class="s2">&quot;TOPIC&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">Facet</span><span class="o">.</span><span class="n">LIKE</span><span class="p">(</span><span class="s2">&quot;math%&quot;</span><span class="p">))</span>
    <span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">kl</span><span class="p">)</span>
    
    <span class="c1"># Autocomplete search</span>
    <span class="k">for</span> <span class="n">kl</span> <span class="ow">in</span> <span class="n">klbase</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s1">&#39;ac_engine1&#39;</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;Fibonacci&quot;</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">kl</span><span class="p">)</span>
    
    <span class="c1"># Vector search</span>
    <span class="k">for</span> <span class="n">kl</span> <span class="ow">in</span> <span class="n">klbase</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
        <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;vec_engine&#39;</span><span class="p">,</span>
        <span class="n">query</span><span class="o">=</span><span class="s2">&quot;fibonacci 63&quot;</span><span class="p">,</span>
        <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;kl&quot;</span><span class="p">,</span> <span class="s2">&quot;score&quot;</span><span class="p">],</span>
        <span class="n">topk</span><span class="o">=</span><span class="mi">3</span>
    <span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">kl</span><span class="p">)</span>
</pre></div>
</div>
<br/>
</section>
<section id="further-exploration">
<h2>Further Exploration<a class="headerlink" href="#further-exploration" title="Link to this heading">Â¶</a></h2>
<blockquote>
<div><p><strong>Tip:</strong> For deeper understanding of KLBase components, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="ukf/index.html"><span class="std std-doc">UKF</span></a> - Data model for knowledge items</p></li>
<li><p><a class="reference internal" href="klstore/index.html"><span class="std std-doc">KLStore</span></a> - Storage layer for knowledge objects</p></li>
<li><p><a class="reference internal" href="klengine/index.html"><span class="std std-doc">KLEngine</span></a> - Search engine implementations built on top of KLStores</p></li>
<li><p><a class="reference internal" href="toolspec/index.html"><span class="std std-doc">Tool Specifications</span></a> - Agent integration details</p></li>
</ul>
</div></blockquote>
<br/>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="toolspec/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">ToolSpec</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="klengine/vector.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">VectorKLEngine</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, RubikSQL Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">KLBase</a><ul>
<li><a class="reference internal" href="#core-concepts">1. Core Concepts</a></li>
<li><a class="reference internal" href="#basic-architecture">2. Basic Architecture</a></li>
<li><a class="reference internal" href="#class-definition">3. Class Definition</a><ul>
<li><a class="reference internal" href="#constructor">3.1. Constructor</a></li>
<li><a class="reference internal" href="#storage-management">3.2. Storage Management</a><ul>
<li><a class="reference internal" href="#adding-storage">3.2.1. Adding Storage</a></li>
<li><a class="reference internal" href="#removing-storage">3.2.2. Removing Storage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#engine-management">3.3. Engine Management</a><ul>
<li><a class="reference internal" href="#adding-engine">3.3.1. Adding Engine</a></li>
<li><a class="reference internal" href="#removing-engine">3.3.2. Removing Engine</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#data-operations">4. Data Operations</a><ul>
<li><a class="reference internal" href="#insert-upsert-operations">4.1. Insert/Upsert Operations</a><ul>
<li><a class="reference internal" href="#single-upsert">4.1.1. Single Upsert</a></li>
<li><a class="reference internal" href="#single-insert">4.1.2. Single Insert</a></li>
<li><a class="reference internal" href="#batch-upsert">4.1.3. Batch Upsert</a></li>
<li><a class="reference internal" href="#batch-insert">4.1.4. Batch Insert</a></li>
<li><a class="reference internal" href="#selective-synchronization">4.1.5. Selective Synchronization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#remove-operations">4.2. Remove Operations</a><ul>
<li><a class="reference internal" href="#single-remove">4.2.1. Single Remove</a></li>
<li><a class="reference internal" href="#batch-remove">4.2.2. Batch Remove</a></li>
<li><a class="reference internal" href="#clear-all">4.2.3. Clear All</a></li>
</ul>
</li>
<li><a class="reference internal" href="#search-operations">4.3. Search Operations</a></li>
<li><a class="reference internal" href="#listing-search-methods">4.4. Listing Search Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-custom-klbase-applications">5. Creating Custom KLBase Applications</a><ul>
<li><a class="reference internal" href="#inherit-klbase">5.1. Inherit KLBase</a></li>
<li><a class="reference internal" href="#configure-storages-and-engines">5.2. Configure Storages and Engines</a></li>
<li><a class="reference internal" href="#define-tool-specifications">5.3. Define Tool Specifications</a></li>
<li><a class="reference internal" href="#export-tools-for-agent-use">5.4. Export Tools for Agent Use</a></li>
</ul>
</li>
<li><a class="reference internal" href="#complete-example">6. Complete Example</a></li>
<li><a class="reference internal" href="#further-exploration">Further Exploration</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=9dc39874"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=30646c52"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/line-numbers.js?v=8c0ba6c9"></script>
    <script src="../_static/mouse-spotlight.js?v=8186b80c"></script>
    <script src="../_static/dynamic-background.js?v=8e04f8c5"></script>
    <script src="../_static/sidebar-toggle.js?v=d0176dfc"></script>
    </body>
</html>