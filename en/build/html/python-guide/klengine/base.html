<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html"><link rel="search" title="Search" href="../../search.html"><link rel="next" title="FacetKLEngine" href="facet.html"><link rel="prev" title="KLEngine" href="index.html">
        <link rel="prefetch" href="../../_static/logo-light.png" as="image">
        <link rel="prefetch" href="../../_static/logo-dark.png" as="image">

    <link rel="shortcut icon" href="../../_static/favicon.ico"><!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>BaseKLEngine - AgentHeaven Doc</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=43646d4c" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>

<div class="announcement">
  <aside class="announcement-content">
     ðŸš§ AgentHeaven is in active development. Features may change. 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">AgentHeaven Doc</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../_static/logo-light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../_static/logo-dark.png" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../introduction/index.html">Introduction</a><input aria-label="Toggle navigation of Introduction" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/philosophy.html">Philosophy &amp; Vision</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/architecture.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/learning.html">Learning AgentHeaven</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting-started/index.html">Getting Started</a><input aria-label="Toggle navigation of Getting Started" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/installation.html">Installation Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/setup.html">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/5min-quickstart.html">5min Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/60min-tutorial.html">60min Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../configuration/index.html">Configuration</a><input aria-label="Toggle navigation of Configuration" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/core.html">Core Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/llm.html">LLM Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/database.html">Database Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/vdb.html">Vector Database Configuration</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Main Guide (Python)</a><input aria-label="Toggle navigation of Main Guide (Python)" checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../utils/index.html">Utilities</a><input aria-label="Toggle navigation of Utilities" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../utils/basic/index.html">Basic Utilities</a><input aria-label="Toggle navigation of Basic Utilities" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../utils/basic/config_utils.html">Configuration Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/basic/hash_utils.html">Hashing Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/basic/parallel_utils.html">Multi-Thread Parallelization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/basic/jinja_utils.html">Template Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/basic/serialize_utils.html">Serialization Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/basic/str_utils.html">String Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/basic/misc_utils.html">Miscellaneous Utilities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../utils/db.html">Database Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/vdb.html">Vector Database Utilities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cache.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../llm.html">LLM</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ukf/index.html">UKF (Unified Knowledge Format)</a><input aria-label="Toggle navigation of UKF (Unified Knowledge Format)" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ukf/ukf-v1.0.html">UKF v1.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ukf/data-types.html">UKF Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ukf/builtin-templates.html">Built-in Templates</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../klstore/index.html">KLStore</a><input aria-label="Toggle navigation of KLStore" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../klstore/base.html">BaseKLStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../klstore/cache.html">CacheKLStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../klstore/database.html">DatabaseKLStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../klstore/vector.html">VectorKLStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../klstore/cascade.html">CascadeKLStore</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">KLEngine</a><input aria-label="Toggle navigation of KLEngine" checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">BaseKLEngine</a></li>
<li class="toctree-l3"><a class="reference internal" href="facet.html">FacetKLEngine</a></li>
<li class="toctree-l3"><a class="reference internal" href="daac.html">DAACKLEngine</a></li>
<li class="toctree-l3"><a class="reference internal" href="vector.html">VectorKLEngine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../klbase.html">KLBase</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../toolspec/index.html">ToolSpec</a><input aria-label="Toggle navigation of ToolSpec" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../toolspec/base.html">ToolSpec</a></li>
<li class="toctree-l3"><a class="reference internal" href="../toolspec/builtins.html">Built-in ToolSpecs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../agent.html">Agent</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../cli-guide/index.html">CLI Guide</a><input aria-label="Toggle navigation of CLI Guide" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cli-guide/repo-management.html">Repo Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli-guide/llm-inference.html">LLM Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli-guide/llm-session.html">LLM Session</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli-guide/prompt-management.html">Prompt Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli-guide/knowledge-management.html">Knowledge Management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../gui-guide/index.html">GUI Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../example-applications/index.html">Example Applications</a><input aria-label="Toggle navigation of Example Applications" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../example-applications/nl2sql-system.html">NL2SQL System</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Roadmap</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../contribution/index.html">Contribution</a><input aria-label="Toggle navigation of Contribution" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribution/overview.html">Contribution Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribution/for_developers.html">Guide for Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribution/feature_workflow.html">Feature Addition Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribution/srs.html">Simple SRS</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../contribution/ar/index.html">Allocated Requirements (AR)</a><input aria-label="Toggle navigation of Allocated Requirements (AR)" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/base_ukf.html">BaseUKF - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/cache.html">Cache - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/llm.html">LLM - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/prompts.html">Prompts - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/database.html">Database - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/klstore.html">KLStore - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/klengine.html">KLEngine - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/klbase.html">KLBase - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/agent.html">Agent - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/sie.html">Structured Information Extraction (SIE) - Allocated Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribution/ar/cli.html">Command Line Interface (CLI) - Allocated Requirements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api_index.html">API Reference</a><input aria-label="Toggle navigation of API Reference" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/ahvn.html">ahvn package</a><input aria-label="Toggle navigation of ahvn package" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.adapter.html">ahvn.adapter package</a><input aria-label="Toggle navigation of ahvn.adapter package" class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.adapter.base.html">ahvn.adapter.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.adapter.db.html">ahvn.adapter.db module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.adapter.vdb.html">ahvn.adapter.vdb module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.cache.html">ahvn.cache package</a><input aria-label="Toggle navigation of ahvn.cache package" class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cache.base.html">ahvn.cache.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cache.callback_cache.html">ahvn.cache.callback_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cache.db_cache.html">ahvn.cache.db_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cache.disk_cache.html">ahvn.cache.disk_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cache.in_mem_cache.html">ahvn.cache.in_mem_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cache.json_cache.html">ahvn.cache.json_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cache.no_cache.html">ahvn.cache.no_cache module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.cli.html">ahvn.cli package</a><input aria-label="Toggle navigation of ahvn.cli package" class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cli.ahvn.html">ahvn.cli.ahvn module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cli.babel_cli.html">ahvn.cli.babel_cli module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cli.chat_cli.html">ahvn.cli.chat_cli module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cli.config_cli.html">ahvn.cli.config_cli module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cli.repo_cli.html">ahvn.cli.repo_cli module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.cli.utils.html">ahvn.cli.utils module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.imitator.html">ahvn.imitator package</a><input aria-label="Toggle navigation of ahvn.imitator package" class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.imitator.base.html">ahvn.imitator.base module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.klbase.html">ahvn.klbase package</a><input aria-label="Toggle navigation of ahvn.klbase package" class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.klbase.base.html">ahvn.klbase.base module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.klengine.html">ahvn.klengine package</a><input aria-label="Toggle navigation of ahvn.klengine package" class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.klengine.base.html">ahvn.klengine.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.klengine.daac_engine.html">ahvn.klengine.daac_engine module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.klengine.facet_engine.html">ahvn.klengine.facet_engine module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.klengine.vector_engine.html">ahvn.klengine.vector_engine module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.klstore.html">ahvn.klstore package</a><input aria-label="Toggle navigation of ahvn.klstore package" class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.klstore.base.html">ahvn.klstore.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.klstore.cache_store.html">ahvn.klstore.cache_store module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.klstore.cascade_store.html">ahvn.klstore.cascade_store module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.klstore.db_store.html">ahvn.klstore.db_store module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.klstore.vdb_store.html">ahvn.klstore.vdb_store module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.llm.html">ahvn.llm package</a><input aria-label="Toggle navigation of ahvn.llm package" class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.llm.base.html">ahvn.llm.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.llm.llm_utils.html">ahvn.llm.llm_utils module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/ahvn.market.html">ahvn.market package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.tool.html">ahvn.tool package</a><input aria-label="Toggle navigation of ahvn.tool package" class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.tool.base.html">ahvn.tool.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.tool.mixin.html">ahvn.tool.mixin module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.ukf.html">ahvn.ukf package</a><input aria-label="Toggle navigation of ahvn.ukf package" class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/ahvn.ukf.templates.html">ahvn.ukf.templates package</a><input aria-label="Toggle navigation of ahvn.ukf.templates package" class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../api/ahvn.ukf.templates.basic.html">ahvn.ukf.templates.basic package</a><input aria-label="Toggle navigation of ahvn.ukf.templates.basic package" class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.basic.document.html">ahvn.ukf.templates.basic.document module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.basic.experience.html">ahvn.ukf.templates.basic.experience module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.basic.knowledge.html">ahvn.ukf.templates.basic.knowledge module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.basic.prompt.html">ahvn.ukf.templates.basic.prompt module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.basic.resource.html">ahvn.ukf.templates.basic.resource module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.basic.template.html">ahvn.ukf.templates.basic.template module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.basic.tool.html">ahvn.ukf.templates.basic.tool module</a></li>
</ul>
</li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../api/ahvn.ukf.templates.db.html">ahvn.ukf.templates.db package</a><input aria-label="Toggle navigation of ahvn.ukf.templates.db package" class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.db.col_ukft.html">ahvn.ukf.templates.db.col_ukft module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.db.db_ukft.html">ahvn.ukf.templates.db.db_ukft module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.db.enum_ukft.html">ahvn.ukf.templates.db.enum_ukft module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.db.pred_ukft.html">ahvn.ukf.templates.db.pred_ukft module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.ukf.templates.db.tab_ukft.html">ahvn.ukf.templates.db.tab_ukft module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.ukf.base.html">ahvn.ukf.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.ukf.types.html">ahvn.ukf.types module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.ukf.ukf_utils.html">ahvn.ukf.ukf_utils module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/ahvn.utils.html">ahvn.utils package</a><input aria-label="Toggle navigation of ahvn.utils package" class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/ahvn.utils.basic.html">ahvn.utils.basic package</a><input aria-label="Toggle navigation of ahvn.utils.basic package" class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.cmd_utils.html">ahvn.utils.basic.cmd_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.color_utils.html">ahvn.utils.basic.color_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.config_utils.html">ahvn.utils.basic.config_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.debug_utils.html">ahvn.utils.basic.debug_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.file_utils.html">ahvn.utils.basic.file_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.func_utils.html">ahvn.utils.basic.func_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.hash_utils.html">ahvn.utils.basic.hash_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.jinja_utils.html">ahvn.utils.basic.jinja_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.log_utils.html">ahvn.utils.basic.log_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.misc_utils.html">ahvn.utils.basic.misc_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.parallel_utils.html">ahvn.utils.basic.parallel_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.parser_utils.html">ahvn.utils.basic.parser_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.path_utils.html">ahvn.utils.basic.path_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.request_utils.html">ahvn.utils.basic.request_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.rnd_utils.html">ahvn.utils.basic.rnd_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.serialize_utils.html">ahvn.utils.basic.serialize_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.str_utils.html">ahvn.utils.basic.str_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.basic.type_utils.html">ahvn.utils.basic.type_utils module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/ahvn.utils.db.html">ahvn.utils.db package</a><input aria-label="Toggle navigation of ahvn.utils.db package" class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../api/ahvn.utils.db.db_desc.html">ahvn.utils.db.db_desc package</a><input aria-label="Toggle navigation of ahvn.utils.db.db_desc package" class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.utils.db.db_desc.db_desc_gen.html">ahvn.utils.db.db_desc.db_desc_gen module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.utils.db.db_desc.db_info_extract.html">ahvn.utils.db.db_desc.db_info_extract module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.utils.db.db_desc.db_ukf_store.html">ahvn.utils.db.db_desc.db_ukf_store module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.utils.db.db_desc.facet_demo.html">ahvn.utils.db.db_desc.facet_demo module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.utils.db.db_desc.gen_synonyms.html">ahvn.utils.db.db_desc.gen_synonyms module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/ahvn.utils.db.db_desc.synonyms_utils.html">ahvn.utils.db.db_desc.synonyms_utils module</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.db.base.html">ahvn.utils.db.base module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.db.db_utils.html">ahvn.utils.db.db_utils module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.db.facet.html">ahvn.utils.db.facet module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.db.types.html">ahvn.utils.db.types module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/ahvn.utils.extensions.html">ahvn.utils.extensions package</a><input aria-label="Toggle navigation of ahvn.utils.extensions package" class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.extensions.autocode.html">ahvn.utils.extensions.autocode module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.extensions.autofunc.html">ahvn.utils.extensions.autofunc module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.extensions.autoi18n.html">ahvn.utils.extensions.autoi18n module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.extensions.autotask.html">ahvn.utils.extensions.autotask module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/ahvn.utils.vdb.html">ahvn.utils.vdb package</a><input aria-label="Toggle navigation of ahvn.utils.vdb package" class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.vdb.base.html">ahvn.utils.vdb.base module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.vdb.filter.html">ahvn.utils.vdb.filter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.vdb.types.html">ahvn.utils.vdb.types module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/ahvn.utils.vdb.vdb_utils.html">ahvn.utils.vdb.vdb_utils module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.utils.default_deps.html">ahvn.utils.default_deps module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ahvn.utils.deps.html">ahvn.utils.deps module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/ahvn.version.html">ahvn.version module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../community/index.html">Community &amp; Support</a><input aria-label="Toggle navigation of Community &amp; Support" class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../community/resources.html">Community Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../citation.html">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/Magolor/AgentHeaven/blob/master/docs/en/source/python-guide/klengine/base.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/Magolor/AgentHeaven/edit/master/docs/en/source/python-guide/klengine/base.md" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="baseklengine">
<h1>BaseKLEngine<a class="headerlink" href="#baseklengine" title="Link to this heading">Â¶</a></h1>
<p>BaseKLEngine is the abstract base class that defines the common interface for all KLEngine implementations in AgentHeaven. It provides a standardized way to index, search, and retrieve knowledge objects (BaseUKF instances) across different search methodologies while ensuring consistent behavior and functionality.</p>
<section id="understanding-klengine">
<h2>1. Understanding KLEngine<a class="headerlink" href="#understanding-klengine" title="Link to this heading">Â¶</a></h2>
<section id="what-is-klengine">
<h3>1.1. What is KLEngine?<a class="headerlink" href="#what-is-klengine" title="Link to this heading">Â¶</a></h3>
<p><strong>KLEngine</strong> is AgentHeavenâ€™s query and retrieval layer for knowledge objects. Think of it as a specialized search system where:</p>
<ul class="simple">
<li><p><strong>Input</strong> is a query with search parameters (filters, keywords, embeddings, etc.)</p></li>
<li><p><strong>Output</strong> is a list of matching knowledge objects with their metadata</p></li>
<li><p><strong>Operations</strong> are primarily search-focused, with support for indexing and maintenance</p></li>
</ul>
<p>KLEngine focuses on <strong>searching and retrieval</strong> â€” while it supports indexing operations (insert, update, remove) for maintaining the search index, its core purpose is to provide various ways to query and retrieve knowledge objects. KLEngine is not required to store the entirety of knowledge objects; instead, it can work in conjunction with a KLStore that handles persistent storage. Most likely, the KLEngine will only contain knowledge ids, with index metadata or vector embeddings to facilitate efficient searching.</p>
<br/>
</section>
<section id="why-separate-storage-from-searching">
<h3>1.2. Why Separate Storage from Searching?<a class="headerlink" href="#why-separate-storage-from-searching" title="Link to this heading">Â¶</a></h3>
<p>This separation of concerns brings several benefits:</p>
<p><strong>Flexibility in Search Methodologies</strong>: You can easily switch between or combine different search approaches (vector similarity, faceted search, pattern matching) based on your needsâ€”accuracy, speed, or complexityâ€”without changing your storage backend.</p>
<p><strong>Storage Independence</strong>: KLEngines can work with or without attached KLStores. When attached, they retrieve full knowledge objects from storage on demand. When detached, they can still provide search results with IDs or cached metadata. This flexibility enables various architectural patterns.</p>
<p><strong>In-Place vs. Standalone Modes</strong>: Some engines operate in-place, directly querying the storage backend (e.g., <code class="docutils literal notranslate"><span class="pre">FacetKLEngine</span></code> with <code class="docutils literal notranslate"><span class="pre">DatabaseKLStore</span></code>), while others maintain their own search indexes (e.g., <code class="docutils literal notranslate"><span class="pre">DAACKLEngine</span></code>). This design accommodates both lightweight and specialized search strategies.</p>
<p><strong>Multi-Modal Retrieval</strong>: The modular design enables combining multiple search engines over the same knowledge baseâ€”using vector search for semantic queries, faceted search for structured filtering, and pattern matching for entity recognitionâ€”all working together to provide comprehensive retrieval capabilities.</p>
<br/>
</section>
</section>
<section id="shared-functionality">
<h2>2. Shared Functionality<a class="headerlink" href="#shared-functionality" title="Link to this heading">Â¶</a></h2>
<p>All KLEngine implementations inherit the following common capabilities from <code class="docutils literal notranslate"><span class="pre">BaseKLEngine</span></code>:</p>
<section id="core-operations">
<h3>2.1. Core Operations<a class="headerlink" href="#core-operations" title="Link to this heading">Â¶</a></h3>
<ul class="simple">
<li><p><strong>Search Operations</strong>: Perform queries to retrieve matching knowledge objects</p></li>
<li><p><strong>Index Maintenance</strong>: Insert, update, and remove knowledge objects in the search index</p></li>
<li><p><strong>Storage Attachment</strong>: Optionally attach to a KLStore for retrieving full knowledge objects</p></li>
<li><p><strong>Flexible Retrieval</strong>: Get knowledge objects by their ID from engine or attached storage</p></li>
</ul>
<br/>
</section>
<section id="batch-operations">
<h3>2.2. Batch Operations<a class="headerlink" href="#batch-operations" title="Link to this heading">Â¶</a></h3>
<ul class="simple">
<li><p><strong>Batch Insert</strong>: Insert multiple knowledge objects efficiently into the search index</p></li>
<li><p><strong>Batch Upsert</strong>: Insert or update multiple knowledge objects in one operation</p></li>
<li><p><strong>Batch Remove</strong>: Remove multiple knowledge objects from the search index simultaneously</p></li>
</ul>
<br/>
</section>
<section id="multiple-search-modes">
<h3>2.3. Multiple Search Modes<a class="headerlink" href="#multiple-search-modes" title="Link to this heading">Â¶</a></h3>
<p>KLEngines support multiple search methods through a routing mechanism:</p>
<ul class="simple">
<li><p><strong>Default Search</strong>: Use <code class="docutils literal notranslate"><span class="pre">search()</span></code> without a mode parameter to invoke <code class="docutils literal notranslate"><span class="pre">_search()</span></code></p></li>
<li><p><strong>Named Search</strong>: Use <code class="docutils literal notranslate"><span class="pre">search(mode=&quot;xxx&quot;)</span></code> to invoke <code class="docutils literal notranslate"><span class="pre">_search_xxx()</span></code></p></li>
<li><p><strong>Search Discovery</strong>: Use <code class="docutils literal notranslate"><span class="pre">list_search()</span></code> to discover available search modes</p></li>
</ul>
<br/>
</section>
<section id="flexible-key-handling">
<h3>2.4. Flexible Key Handling<a class="headerlink" href="#flexible-key-handling" title="Link to this heading">Â¶</a></h3>
<p>BaseKLEngine accepts three types of keys for all operations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code>: Direct numeric ID</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str</span></code>: String representation of numeric ID (automatically converted)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BaseUKF</span></code>: Knowledge object instance (ID extracted automatically)</p></li>
</ul>
<br/>
</section>
<section id="conditional-indexing">
<h3>2.5. Conditional Indexing<a class="headerlink" href="#conditional-indexing" title="Link to this heading">Â¶</a></h3>
<p>All KLEngine implementations support optional condition filtering:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Only index knowledge objects that meet specific criteria</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">MyKLEngine</span><span class="p">(</span><span class="n">condition</span><span class="o">=</span><span class="k">lambda</span> <span class="n">kl</span><span class="p">:</span> <span class="n">kl</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="s2">&quot;important&quot;</span><span class="p">)</span>
</pre></div>
</div>
<br/>
</section>
<section id="in-place-vs-standalone-modes">
<h3>2.6. In-Place vs. Standalone Modes<a class="headerlink" href="#in-place-vs-standalone-modes" title="Link to this heading">Â¶</a></h3>
<p>KLEngines can operate in two modes:</p>
<ul class="simple">
<li><p><strong>Standalone Mode</strong> (<code class="docutils literal notranslate"><span class="pre">inplace=False</span></code>): The engine maintains its own search index separate from storage</p></li>
<li><p><strong>In-Place Mode</strong> (<code class="docutils literal notranslate"><span class="pre">inplace=True</span></code>): The engine operates directly on the attached storage backend without maintaining a separate index</p></li>
</ul>
<br/>
</section>
</section>
<section id="core-interface-methods">
<h2>3. Core Interface Methods<a class="headerlink" href="#core-interface-methods" title="Link to this heading">Â¶</a></h2>
<p>BaseKLEngine defines the essential interface that all implementations must provide:</p>
<section id="required-abstract-methods">
<h3>3.1. Required Abstract Methods<a class="headerlink" href="#required-abstract-methods" title="Link to this heading">Â¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_search(include,</span> <span class="pre">*args,</span> <span class="pre">**kwargs)</span></code>: Perform the default search operation. Returns a list of dictionaries containing search results with keys limited to <code class="docutils literal notranslate"><span class="pre">include</span></code>. Conventionally, use <code class="docutils literal notranslate"><span class="pre">&quot;id&quot;</span></code> for <code class="docutils literal notranslate"><span class="pre">BaseUKF.id</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;kl&quot;</span></code> for the <code class="docutils literal notranslate"><span class="pre">BaseUKF</span></code> instance itself.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_upsert(kl)</span></code>: Insert or update a knowledge object in the search index.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_remove(key)</span></code>: Remove a knowledge object from the search index by its ID. If not applicable for the engine type, override with an empty function or raise an exception.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_clear()</span></code>: Clear all knowledge objects from the search index.</p></li>
</ul>
<br/>
</section>
<section id="optional-methods">
<h3>3.2. Optional Methods<a class="headerlink" href="#optional-methods" title="Link to this heading">Â¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_get(key,</span> <span class="pre">default)</span></code>: Retrieve a knowledge object from the engineâ€™s internal cache or index. Though not required, leaving this unimplemented may lead to unexpected behavior if knowledge objects should be returned by <code class="docutils literal notranslate"><span class="pre">search()</span></code> without an attached KLStore.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_post_search(results,</span> <span class="pre">include,</span> <span class="pre">*args,</span> <span class="pre">**kwargs)</span></code>: Postprocess search results. By default, returns results unchanged. Override to add ranking, filtering, or enrichment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_search_xxx(include,</span> <span class="pre">*args,</span> <span class="pre">**kwargs)</span></code>: Named search methods for different search modes. For example, <code class="docutils literal notranslate"><span class="pre">_search_vector()</span></code> for vector similarity search, <code class="docutils literal notranslate"><span class="pre">_search_facet()</span></code> for faceted filtering.</p></li>
</ul>
<br/>
</section>
<section id="optional-optimization-methods">
<h3>3.3. Optional Optimization Methods<a class="headerlink" href="#optional-optimization-methods" title="Link to this heading">Â¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_batch_upsert(kls)</span></code>, <code class="docutils literal notranslate"><span class="pre">_batch_insert(kls)</span></code>, <code class="docutils literal notranslate"><span class="pre">_batch_remove(keys)</span></code>: Optimized batch operations. The default implementations iterate through individual operations. Override for better performance with large datasets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">close()</span></code>: Optional method to close any open connections or resources. Default is a no-op.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flush()</span></code>: Optional method to flush any buffered data to persistent storage. Default is a no-op.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sync()</span></code>: Synchronize the engine with its attached KLStore by clearing and re-indexing all knowledge objects. Useful when the storage has been batch modified externally.</p></li>
</ul>
<br/>
</section>
</section>
<section id="usage-patterns">
<h2>4. Usage Patterns<a class="headerlink" href="#usage-patterns" title="Link to this heading">Â¶</a></h2>
<section id="basic-operations">
<h3>4.1. Basic Operations<a class="headerlink" href="#basic-operations" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyKLEngine</span><span class="p">(</span><span class="n">BaseKLEngine</span><span class="p">):</span>
    <span class="c1"># Implement required methods here</span>
    <span class="k">pass</span>

<span class="c1"># Create engine with optional storage attachment</span>
<span class="n">store</span> <span class="o">=</span> <span class="n">MyKLStore</span><span class="p">(</span><span class="s2">&quot;my_store&quot;</span><span class="p">)</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">MyKLEngine</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="n">store</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_engine&quot;</span><span class="p">)</span>

<span class="c1"># Insert knowledge objects into the index</span>
<span class="n">engine</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">knowledge_object</span><span class="p">)</span>
<span class="n">engine</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span><span class="n">knowledge_object</span><span class="p">)</span>  <span class="c1"># Insert or update</span>

<span class="c1"># Search for knowledge objects</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;kl&quot;</span><span class="p">])</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="n">kl_id</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
    <span class="n">kl_obj</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;kl&quot;</span><span class="p">]</span>
    
<span class="c1"># Retrieve specific knowledge object</span>
<span class="n">kl</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>  <span class="c1"># From engine cache or attached storage</span>

<span class="c1"># Remove knowledge objects from index</span>
<span class="n">engine</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="k">del</span> <span class="n">engine</span><span class="p">[</span><span class="mi">123</span><span class="p">]</span>
</pre></div>
</div>
<br/>
</section>
<section id="id1">
<h3>4.2. Batch Operations<a class="headerlink" href="#id1" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Batch insert (only if not exists)</span>
<span class="n">engine</span><span class="o">.</span><span class="n">batch_insert</span><span class="p">([</span><span class="n">kl1</span><span class="p">,</span> <span class="n">kl2</span><span class="p">,</span> <span class="n">kl3</span><span class="p">])</span>

<span class="c1"># Batch upsert (insert or update)</span>
<span class="n">engine</span><span class="o">.</span><span class="n">batch_upsert</span><span class="p">([</span><span class="n">kl1</span><span class="p">,</span> <span class="n">kl2</span><span class="p">,</span> <span class="n">kl3</span><span class="p">])</span>

<span class="c1"># Batch remove</span>
<span class="n">engine</span><span class="o">.</span><span class="n">batch_remove</span><span class="p">([</span><span class="mi">123</span><span class="p">,</span> <span class="mi">456</span><span class="p">,</span> <span class="mi">789</span><span class="p">])</span>
</pre></div>
</div>
<br/>
</section>
<section id="id2">
<h3>4.3. Multiple Search Modes<a class="headerlink" href="#id2" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Discover available search modes</span>
<span class="n">modes</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">list_search</span><span class="p">()</span>  <span class="c1"># Returns [None, &#39;vector&#39;, &#39;facet&#39;, ...]</span>

<span class="c1"># Use default search</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>

<span class="c1"># Use named search mode</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;vector&quot;</span><span class="p">)</span>  <span class="c1"># this requires a _search_vector implementation, typically by VectorKLEngine</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span><span class="p">},</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;facet&quot;</span><span class="p">)</span>  <span class="c1"># this requires a _search_facet implementation, typically by FacetKLEngine</span>
</pre></div>
</div>
<br/>
</section>
<section id="storage-attachment">
<h3>4.4. Storage Attachment<a class="headerlink" href="#storage-attachment" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create engine without storage</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">MyKLEngine</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_engine&quot;</span><span class="p">)</span>

<span class="c1"># Attach storage later</span>
<span class="n">store</span> <span class="o">=</span> <span class="n">MyKLStore</span><span class="p">(</span><span class="s2">&quot;my_store&quot;</span><span class="p">)</span>
<span class="n">engine</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>

<span class="c1"># Search returns IDs, retrieval uses attached storage</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;kl&quot;</span><span class="p">])</span>

<span class="c1"># Synchronize engine with storage</span>
<span class="n">engine</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>  <span class="c1"># Re-index all objects from storage</span>

<span class="c1"># Detach storage</span>
<span class="n">engine</span><span class="o">.</span><span class="n">detach</span><span class="p">()</span>
</pre></div>
</div>
<br/>
</section>
<section id="flexible-result-inclusion">
<h3>4.5. Flexible Result Inclusion<a class="headerlink" href="#flexible-result-inclusion" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Control what fields to include in search results</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">,</span>
    <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;kl&quot;</span><span class="p">,</span> <span class="s2">&quot;score&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Minimal results (IDs only)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>

<span class="c1"># Full knowledge objects</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;kl&quot;</span><span class="p">])</span>

<span class="c1"># Full knowledge objects with search metadata</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;kl&quot;</span><span class="p">,</span> <span class="s2">&quot;score&quot;</span><span class="p">])</span>  <span class="c1"># Typically from vector search</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;kl&quot;</span><span class="p">,</span> <span class="s2">&quot;matches&quot;</span><span class="p">])</span>  <span class="c1"># Typically from string search</span>
</pre></div>
</div>
<br/>
</section>
</section>
<section id="implementation-guide">
<h2>5. Implementation Guide<a class="headerlink" href="#implementation-guide" title="Link to this heading">Â¶</a></h2>
<p>When creating a custom KLEngine implementation:</p>
<section id="extend-baseklengine">
<h3>5.1. Extend BaseKLEngine<a class="headerlink" href="#extend-baseklengine" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.klengine.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseKLEngine</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.ukf.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseUKF</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Iterable</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyKLEngine</span><span class="p">(</span><span class="n">BaseKLEngine</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">storage</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">condition</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">storage</span><span class="p">,</span> <span class="n">inplace</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">condition</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># Initialize your search index</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># Example: simple dictionary index</span>
    
    <span class="c1"># Implement required abstract methods</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_search</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Your search implementation&quot;&quot;&quot;</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># Perform search logic</span>
        <span class="k">for</span> <span class="n">kl_id</span><span class="p">,</span> <span class="n">metadata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_matches</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">kl_id</span><span class="p">,</span> <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">results</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_upsert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kl</span><span class="p">:</span> <span class="n">BaseUKF</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update search index&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="p">[</span><span class="n">kl</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_metadata</span><span class="p">(</span><span class="n">kl</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove from search index&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clear search index&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
<br/>
</section>
<section id="add-named-search-modes">
<h3>5.2. Add Named Search Modes<a class="headerlink" href="#add-named-search-modes" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyKLEngine</span><span class="p">(</span><span class="n">BaseKLEngine</span><span class="p">):</span>
    <span class="c1"># ... (previous code)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_search_exact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">keyword</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exact keyword matching search mode&quot;&quot;&quot;</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">kl_id</span><span class="p">,</span> <span class="n">metadata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">kl_id</span><span class="p">,</span> <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">results</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_search_fuzzy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">keyword</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fuzzy matching search mode&quot;&quot;&quot;</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># Fuzzy matching logic</span>
        <span class="k">return</span> <span class="n">results</span>
</pre></div>
</div>
<br/>
</section>
<section id="performance-optimization">
<h3>5.3. Performance Optimization<a class="headerlink" href="#performance-optimization" title="Link to this heading">Â¶</a></h3>
<p>Override optimization methods for better performance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">_batch_upsert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kls</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">BaseUKF</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Optimized batch indexing&quot;&quot;&quot;</span>
    <span class="c1"># Use bulk operations if your backend supports them</span>
    <span class="k">for</span> <span class="n">kl</span> <span class="ow">in</span> <span class="n">kls</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="p">[</span><span class="n">kl</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_metadata</span><span class="p">(</span><span class="n">kl</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_rebuild_secondary_indexes</span><span class="p">()</span>  <span class="c1"># Example: rebuild once</span>

<span class="k">def</span><span class="w"> </span><span class="nf">_post_search</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Post-process search results&quot;&quot;&quot;</span>
    <span class="c1"># Add re-ranking, deduplication, or enrichment</span>
    <span class="n">results</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;score&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">[:</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;limit&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)]</span>
</pre></div>
</div>
<br/>
</section>
<section id="in-place-engine-implementation">
<h3>5.4. In-Place Engine Implementation<a class="headerlink" href="#in-place-engine-implementation" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">ahvn.klstore.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseKLStore</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyInPlaceKLEngine</span><span class="p">(</span><span class="n">BaseKLEngine</span><span class="p">):</span>
    <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># Mark as in-place engine</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">storage</span><span class="p">:</span> <span class="n">DatabaseKLStore</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># In-place engines require a storage backend</span>
        <span class="k">if</span> <span class="n">storage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;In-place engines require a storage backend&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">storage</span><span class="o">=</span><span class="n">storage</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_search</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Search directly on storage backend&quot;&quot;&quot;</span>
        <span class="c1"># Query the database directly</span>
        <span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">entity</span><span class="p">)</span>
        
        <span class="c1"># Apply filters</span>
        <span class="k">if</span> <span class="n">filters</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">filters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">entity</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="o">==</span> <span class="n">value</span><span class="p">)</span>
        
        <span class="c1"># Execute and return results</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">entity</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">results</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_upsert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kl</span><span class="p">:</span> <span class="n">BaseUKF</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;No-op for in-place engines&quot;&quot;&quot;</span>
        <span class="k">pass</span>  <span class="c1"># Storage handles persistence</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;No-op for in-place engines&quot;&quot;&quot;</span>
        <span class="k">pass</span>  <span class="c1"># Storage handles removal</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;No-op for in-place engines&quot;&quot;&quot;</span>
        <span class="k">pass</span>  <span class="c1"># Storage handles clearing</span>
</pre></div>
</div>
<br/>
</section>
</section>
<section id="further-exploration">
<h2>6. Further Exploration<a class="headerlink" href="#further-exploration" title="Link to this heading">Â¶</a></h2>
<blockquote>
<div><p><strong>Tip:</strong> For concrete KLEngine implementations, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="facet.html"><span class="std std-doc">FacetKLEngine</span></a> - Structured search with ORM-like filtering and SQL queries</p></li>
<li><p><a class="reference internal" href="daac.html"><span class="std std-doc">DAACKLEngine</span></a> - High-performance string matching using Aho-Corasick automaton</p></li>
<li><p><a class="reference internal" href="vector.html"><span class="std std-doc">VectorKLEngine</span></a> - Vector similarity search for semantic retrieval</p></li>
</ul>
</div></blockquote>
<blockquote>
<div><p><strong>Tip:</strong> For storage backends that work with KLEngines, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../klstore/index.html"><span class="std std-doc">KLStore</span></a> - Storage layer for knowledge objects</p></li>
<li><p><a class="reference internal" href="../klstore/cache.html"><span class="std std-doc">CacheKLStore</span></a> - In-memory storage for fast access</p></li>
<li><p><a class="reference internal" href="../klstore/database.html"><span class="std std-doc">DatabaseKLStore</span></a> - Persistent relational storage</p></li>
<li><p><a class="reference internal" href="../klstore/vector.html"><span class="std std-doc">VectorKLStore</span></a> - Vector database storage</p></li>
</ul>
</div></blockquote>
<blockquote>
<div><p><strong>Tip:</strong> For knowledge object fundamentals, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../ukf/ukf-v1.0.html"><span class="std std-doc">BaseUKF</span></a> - Universal Knowledge Format for representing knowledge objects</p></li>
<li><p><a class="reference internal" href="../ukf/data-types.html"><span class="std std-doc">UKF Data Types</span></a> - Data type mappings between UKF, Pydantic, and databases</p></li>
</ul>
</div></blockquote>
<br/>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="facet.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">FacetKLEngine</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">KLEngine</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, RubikSQL Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">BaseKLEngine</a><ul>
<li><a class="reference internal" href="#understanding-klengine">1. Understanding KLEngine</a><ul>
<li><a class="reference internal" href="#what-is-klengine">1.1. What is KLEngine?</a></li>
<li><a class="reference internal" href="#why-separate-storage-from-searching">1.2. Why Separate Storage from Searching?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#shared-functionality">2. Shared Functionality</a><ul>
<li><a class="reference internal" href="#core-operations">2.1. Core Operations</a></li>
<li><a class="reference internal" href="#batch-operations">2.2. Batch Operations</a></li>
<li><a class="reference internal" href="#multiple-search-modes">2.3. Multiple Search Modes</a></li>
<li><a class="reference internal" href="#flexible-key-handling">2.4. Flexible Key Handling</a></li>
<li><a class="reference internal" href="#conditional-indexing">2.5. Conditional Indexing</a></li>
<li><a class="reference internal" href="#in-place-vs-standalone-modes">2.6. In-Place vs. Standalone Modes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#core-interface-methods">3. Core Interface Methods</a><ul>
<li><a class="reference internal" href="#required-abstract-methods">3.1. Required Abstract Methods</a></li>
<li><a class="reference internal" href="#optional-methods">3.2. Optional Methods</a></li>
<li><a class="reference internal" href="#optional-optimization-methods">3.3. Optional Optimization Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage-patterns">4. Usage Patterns</a><ul>
<li><a class="reference internal" href="#basic-operations">4.1. Basic Operations</a></li>
<li><a class="reference internal" href="#id1">4.2. Batch Operations</a></li>
<li><a class="reference internal" href="#id2">4.3. Multiple Search Modes</a></li>
<li><a class="reference internal" href="#storage-attachment">4.4. Storage Attachment</a></li>
<li><a class="reference internal" href="#flexible-result-inclusion">4.5. Flexible Result Inclusion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#implementation-guide">5. Implementation Guide</a><ul>
<li><a class="reference internal" href="#extend-baseklengine">5.1. Extend BaseKLEngine</a></li>
<li><a class="reference internal" href="#add-named-search-modes">5.2. Add Named Search Modes</a></li>
<li><a class="reference internal" href="#performance-optimization">5.3. Performance Optimization</a></li>
<li><a class="reference internal" href="#in-place-engine-implementation">5.4. In-Place Engine Implementation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#further-exploration">6. Further Exploration</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=9dc39874"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=30646c52"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../_static/line-numbers.js?v=8c0ba6c9"></script>
    <script src="../../_static/mouse-spotlight.js?v=8186b80c"></script>
    <script src="../../_static/dynamic-background.js?v=8e04f8c5"></script>
    <script src="../../_static/sidebar-toggle.js?v=d0176dfc"></script>
    </body>
</html>